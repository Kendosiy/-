<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link href="../../style.css" rel="stylesheet">
	</head>
	<body>
		<header>
			<div>
				<a href="../../index.html"><h1>Учебный портал</h1></a>
			</div>
			<nav>
					<ul class="main_menu">
					<li>
						<a href="#"><p>Справочные материалы </p></a>
						<ul class="submenu" id="sub1">
							<li><a href="../../delphi-lab-teor.html">Теория по Delphi</a></li>
						</ul>
					</li>
					<li>
						<a href="#"><p>Лабораторные работы </p></a>
						<ul class="submenu" id="sub2">
							<li><a href="../../delphi-lab-prac.html">Задания по Delphi</a></li>
						</ul>
					</li>
				</ul>
			</nav>
		</header>
		<main>
			<div class="prev"><a href="tema1.html"><img src="../../res/prev.png"></a></div>
			<div class="next"><a href="tema3.html"><img src="../../res/next.png"></a></div>
			<aside id="sidebar">
				<h2>Быстрая навигация</h2>
				<ol>
					<li><a href="#1">Методы</a></li>
					<li><a href="#2">Шаблоны форм</a></li>
				</ol>
			</aside>
			<article class="tema">
				<h2>
					Формы
				</h2>
				<p>
					Форма может быть:
				</p>
				<p>
					- главным окном приложения;
				</p>
				<p>
					- диалоговым окном;
				</p>
				<p>
					- дочерним окном MDI-окна.
				</p>
				<p>
					Специализация формы в этом случае определяется свойством FormStyle:
				</p>
				<p>
					- fsNormal – обычное окно;
				</p>
				<p>
					- fsMDIChild – дочернее окно приложения MDI;
				</p>
				<p>
					- fsMDIForm – главное окно MDI.
				</p>
				<p>
					В заголовке любой формы есть набор системных кнопок. Он определяется
					свойством BorderIcons. По умолчанию у формы имеются 3 кнопки – для вызова
					системного меню, сворачивания и разворачивания окна. Кнопка закрытия окна
					не описана, потому что присутствует всегда.
				</p>
				<p>
					Вид окна во многом определяется стилем обрамления. Во время разработки
					стиль обрамления себя не проявляет. Изменения с окном происходят только во
					время выполнения программы. Стиль обрамления задается свойством
					BorderStyle.
				</p>
				<p>
					- bsNone – окно без рамки, заголовка и системных кнопок. Размеры обычно не
					меняет. Применяется для создания окон-заставок для долго устанавливаемых
					приложений.
				</p>
				<p>
					- BsSingle – стандартное окно без изменения размеров;
				</p>
				<p>
					- BsSizeable – стандартное окно с изменением размеров;
				</p>
				<p>
					- BsDialog – стандартное диалоговое окно без системных кнопок и изменения
					размеров;
				</p>
				<p>
					- BsToolWindow – окно панели инструментов без изменения размеров;
				</p>
				<p>
					- BsSizeToolWindow – окно панели инструментов с изменением размеров.
				</p>
				<p>
					Каждое окно может находиться в одном из трех состояний: нормальном,
					свернутом и развернутом. За это отвечает свойство WindowState.
				</p>
				<p>
					Местоположение окна на экране определяет свойство Position.
				</p>
				<p>
					- poDesigned – позиция определена в режиме проектирования;
				</p>
				<p>
					- poScreenCenter – окно появляется в центре экрана.
				</p>
				<p>
					Свойство Icons определяет значок для свернутого приложения.
				</p>
				<p>
					У каждой формы может быть главное меню. Это определено в свойстве Menu.
					Контекстное меню задается в свойстве PopupMenu. В этих свойствах
					указывается имя компонента меню.
				</p>
				<p>
					Свойство ActiveControl определяет элемент управления, имеющий фокус ввода.
				</p>
				<p>
					Свойство ActiveMDIChild определяет активное дочернее окно MDI-приложения.
				</p>
				<p>
					Свойство KeyPreView определяет, будет ли форма получать события от
					клавиатуры раньше, чем элементы управления (True). Клавиши управления
					курсором не инициируют событий и это свойство на них не влияет.
				</p>
				<a name="1"></a>
				<h2>
					Методы
				</h2>
				<p>
					<strong>Создание формы</strong>
					.
				</p>
				<p>
					В стандартном приложении создает и удаляет формы само приложение. Правила
					создания форм задаются в параметрах проекта (страница Forms). Формы могут
					создаваться автоматически, тогда они заносятся в список Auto-Create forms.
					В другом случае формы создаются программно через конструктор Create или
					метод Application.CreateForm. Форма, которая создается первой, считается
					главной. Создание дополнительных форм во время работы приложения экономит
					память и время. Такие формы нужно занести в список Avialable forms.
				</p>
				<p>
					<strong>Показ формы</strong>
					.
				</p>
				<p>
					Для того, чтобы из одной формы вызвать другую, применяется метод Show:
				</p>
				<p>
					Form2.Show.
				</p>
				<p>
					Вызванная форма становится видимой и располагается поверх других окон.
				</p>
				<h2>
					Скрытие формы
				</h2>
				<p>
					Для того, чтобы сделать форму невидимой, используется метод Hide:
				</p>
				<p>
					Form2.Hide
				</p>
				<p>
					Обычно не применяется к главной форме.
				</p>
				<h2>
					Закрытие формы
				</h2>
				<p>
					Для закрытия используется метод Close. При закрытии главного окна
					предварительно закрываются все дочерние окна. В обработчик события OnClose
					обычно встраивают дополнительные операции по сохранению текущего файла и
					проверке возможности закрытия программы.
				</p>
				<a name="1"></a>
				<h2>
					Работа с несколькими формами
				</h2>
				<p>
					При вызове одного окна из другого новое окно может появляться в двух
					режимах: модальном и немодальном.
				</p>
				<p>
					Модальное окно принимает фокус ввода и до его закрытия вернуться в главное
					окно нельзя. Для вызова окна в таком режиме используется метод ShowModal:
				</p>
				<p>
					Form2.ShowModal
				</p>
				<p>
					При закрытии модального окна изменяется его свойство ModalRewsult. Это
					свойство хранит информацию о результате закрытия окна.
				</p>
				<p>
					Немодальное окно вызывается методом Show и позволяет возвращаться в главное
					окно без своего закрытия.
				</p>
				<p>
					Для создания новой формы выберите File | New Form. Имя модуля дочерней
					формы должно быть указано в списке Uses интерфейсного раздела модуля
					главной формы. Другой способ подключения дочерней формы – пункт меню File |
					Use Unit, где нужно указать имя подключаемого модуля. В этом случае
					подключение выполняется в разделе выполнения модуля главной формы.
				</p>
				<p>
					Существует два основных способа взаимодействия главного и дочерних окон:
					однодокументный интерфейс (SDI) и многодокументный интерфейс (MDI).
				</p>
				<p>
					В SDI главная форма появляется при запуске приложения и объединяет в себе
					все важнейшие функции управления. Из нее запускаются дочерние формы.
					Дочерние формы относительно самостоятельны. Они могут располагаться в любом
					месте экрана, даже перекрывая главную форму. Дочерние формы могут
					вызываться одна из другой. Окна SDI можно запускать в модальном режиме. Для
					всех форм значение свойства FormStyle = fsNormal. Главной считается форма,
					которая создается первой.
				</p>
				<p>
					На основе SDI построена Delphi. Имеется шаблон SDI-приложения, который
					можно вызвать из репозитория объектов: File | New | Projects | SDI
					Applications. Этот шаблон создает две формы: главную и О программе (About).
					На главной форме имеется главное меню и стандартная панель инструментов.
				</p>
				<p>
					Однодокументный интерфейс (SDI – Single Document Interface) определяет
					способ взаимодействия главного и дочерних окон приложения. Он позволяет
					работать одновременно только с одним документом. Этот интерфейс является
					более универсальным и в настоящее время получил широкое распространение.
				</p>
				<p>
					Характеристики SDI-приложения:
				</p>
				<p>
					- Главное окно SDI появляется при запуске приложения. Оно объединяет все
					важнейшие функции управления;
				</p>
				<p>
					- Дочерние окна вызываются из главного окна или из других дочерних окон;
				</p>
				<p>
					- Дочерние окна относительно самостоятельны и связаны с главным через
					данные. Они могут располагаться в любой части экрана даже поверх главного
					окна;
				</p>
				<p>
					- При сворачивании главного окна сворачиваются и все дочерние окна;
				</p>
				<p>
					- При закрытии главного окна предварительно закрываются все дочерние окна.
				</p>
				<p>
					Пример SDI-приложения приведен на рисунке 1.
				</p>
				<p>
					<img
						width="534"
						height="314"
						src="tema2/image002.jpg"
					/>
				</p>
				<p>
					Рисунок 1 – Пример SDI-приложения
				</p>
				<p>
					1 – панель инструментов главного окна;
				</p>
				<p>
					2 – главное окно;
				</p>
				<p>
					3 – дочернее окно.
				</p>
				<p>
					У всех окон SDI-приложения свойство FormStyle имеет значение fsNormal.
				</p>
				<p>
					Дочерние окна могут вызываться в двух режимах: модальном и немодальном.
				</p>
				<p>
					<strong>Модальный режим</strong>
					- такой режим вызова дочернего окна, когда до его закрытия перейти в другие
					окна приложения нельзя.
				</p>
				<p>
					<strong>Немодальный режим</strong>
					– такой режим вызова дочернего окна, который позволяет перемещаться между
					разными окнами приложения.
				</p>
				<p>
				Для вызова дочернего окна в модальном режиме используется метод	<strong>ShowModal</strong>, а в немодальном режиме – <strong>Show</strong>.
				</p>
				<p>
					Передача информации между окнами SDI-приложения ведется через глобальные
					переменные, которые объявляются в интерфейсном разделе модуля после
					служебного слова <strong>var</strong>. Нужно следить за тем, чтобы
					передающий информацию модуль был «виден» модулю, получающему информацию.
					Если для настройки параметров главного окна используется дочернее
					диалоговое окно, то переменные, хранящие значения параметров, объявляются в
					модуле диалогового окна. Модуль диалогового окна должен быть подключен к
					модулю главного окна.
				</p>
				<a name="2"></a>
				<h2>
					Шаблоны форм
				</h2>
				<p>
					В Delphi имеется целый ряд шаблонов форм, которые пользователь может
					использовать при создании своих приложений. Шаблоны хранятся в Репозитории
					объектов Delphi (Object Repository). Репозиторий – своеобразный склад
					готовых объектов, который можно вызвать через главное меню Delphi: File |
					New. Шаблоны форм находятся на странице Forms. Шаблоны диалоговых окон
					находятся на странице Dialogs.
				</p>
				<p>
					Среди шаблонов форм есть шаблон AboutBox, показанный на рисунке 2.
				</p>
				<img
					width="266"
					height="211"
					src="tema2/image007.jpg"
				/>
				<br clear="ALL"/>
				<p>
					<strong> </strong>
				</p>
				<p>
					<strong> </strong>
					Рисунок 2 – Шаблон AboutBox.
				</p>
				<p align="center">
					<strong></strong>
				</p>
				<p align="center">
					<strong></strong>
				</p>
				<p align="center">
					<strong></strong>
				</p>
				<p align="center">
					<strong></strong>
				</p>
				<p align="center">
					<strong></strong>
				</p>
				<p>
					Шаблон AboutBox представляет собой стандартное окно «О программе», которое
					содержит название программы, информацию о версии и авторе. Ему
					соответствует полностью готовый модуль. Программист изменяет тексты в
					шаблоне и вставляет свою картинку. Далее этот модуль следует подключить к
					модулю главного окна и написать обработчик для кнопки «О программе».
				</p>
				<p>
					Среди шаблонов диалоговых окон есть шаблон Standard Dialog, предназначенный
					для создания диалогового окна. Он показан на рисунке 3.
				</p>
				<p>
					<img
						width="318"
						height="238"
						src="tema2/image009.jpg"
					/>
					<strong> </strong>
				</p>
				<p>
					<strong> </strong>
					Рисунок 3 - Шаблон Standard Dialog.
				</p>
				<p>
					На шаблон Standard Dialog помещаются необходимые для ввода информации
					компоненты и метки для создания пояснений. В модуле диалогового окна
					объявляются глобальные переменные, с помощью которых информация передается
					в модуль главного окна. Пример передачи информации показан на рисунке 4.
				</p>
				<br clear="all"/>
				<p>
					<img
						width="424"
						height="221"
						src="tema2/image011.jpg"
					/>
					<img
						width="226"
						height="222"
						src="tema2/image013.jpg"
					/>
				</p>
				<p>
					Рисунок 4 – Пример передачи информации из дочернего окна
				</p>
				<p>
					1 – вид формы диалогового окна;
				</p>
				<p>
					2 – текст модуля диалогового окна с объявлением и использованием глобальной
					переменной А.
				</p>
			</article>	
		</main>
		<footer class="footer">
			<div></div>
		</footer>
		<script src="../../scripts.js"></script>
	</body>
</html>